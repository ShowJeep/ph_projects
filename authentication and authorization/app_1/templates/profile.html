{% extends "base.html" %}
{% load crispy_forms_tags %}
{% block body %}
    <h1>Welcome {{user}}</h1>
    
    {% if messages %}
    {% for m in messages %}
      <small class="bg-info p-1 text-white" {% if m.tags %} class="{{m.tags}}" {% endif %}>{{m}}</small>
    {% endfor %}
    {% endif %}   
    <br/>
    <br/>
    <p><a class="bt btn-success" href="{% url 'pass_change' %}">Change Your Password</a></p>
    <p><a class="bt btn-danger" href="{% url 'pass_change2' %}">Change Your Password without old password</a></p>
    
    <form method="post" style="width: 50%; margin: auto" novalidate>
        <h1>Log-in Page</h1>
        {% csrf_token %}
        {% if form.non_field_errors %}
        {% for er in form.non_field_errors %}
            <p class="bg-danger text-white p-3" >{{er}}</p>
        {% endfor %}
        {% endif %}
        {% for fm in form %}
          <div style="margin-bottom: 10px;">
            {{fm.label_tag}} {{fm}} {{fm.errors|striptags}}
          </div>
        {% endfor %}
        <br/>
        <button class="bt btn-primary" type="submit">Change Data</button>
      </form>

{% endblock %}